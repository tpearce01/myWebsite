<!DOCTYPE html>
<head>
    <link href='https://fonts.googleapis.com/css?family=ABeeZee' rel='stylesheet'>
    <link rel="stylesheet" href="tyler_style.css">
</head>

<!--Header-->
<h1>
    <table><tr><td>Tyler Pearce</td></tr></table>
</h1>

<!--Navigation Menu-->
<div class="navigation">
    <table>
        <tr>
            <td><button id="home_button" onclick="LoadHome()">HOME</button></td>
            <td><button id="resume_button" onClick="LoadResume()">RESUME</button></td>
            <td class="dropdown">
                <button id="portfolio_button">PORTFOLIO</button>
                <ul class="dropdown-content">
                    <li><button class="dropdown-button" onclick="LoadFlappy()">FLAPPY SPINNER</button></li>
                    <li><button class="dropdown-button" onclick="LoadSC()">SPACE COWBOY</button></li>
                    <li><button class="dropdown-button" onclick="LoadFinalTrial()">FINAL TRIAL</button></li>
                    <li><button class="dropdown-button" onclick="LoadWebsiteInfo()">THIS WEBSITE</button></li>
                </ul>
            </td>
            <td><button id="contact_button" onclick="LoadContact()">CONTACT</button></td>
        </tr>
    </table>
</div>

<!--Content-->
<body>
<div>    
    <br/><br /><br />
    <iframe id="ifr1" height="0"></iframe>
    <iframe id="ifr2" height="0"></iframe>
    <br /><br /><br />
</div>
</body>

<!--Javascript-->
<script src="https://www.gstatic.com/firebasejs/4.1.2/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyBb5K6zcQINJoM7V3AFQodAqbMdrGKgRDQ",
        authDomain: "mywebsite-5762c.firebaseapp.com",
        databaseURL: "https://mywebsite-5762c.firebaseio.com",
        projectId: "mywebsite-5762c",
        storageBucket: "mywebsite-5762c.appspot.com",
        messagingSenderId: "917882964767"
    };
    firebase.initializeApp(config);

    var database = firebase.database();
    var guestIP;

    function write(IP) {
        var previous;

        firebase.database.ref(IP).once(IP, function(snapshot) {
            previous = snapshot.val();
        }, function(errorObject) {
            alert("Read failed: " + errorObject.code);
        })

        firebase.database.ref(IP).set({
            visitCounter: previous + 1,
        });

        var date = getMonth() +
            '/' +
            getDate() +
            '/' +
            getYear() +
            ' @ ' +
            getHour() +
            '/' +
            getMinutes() +
            '/' +
            getSeconds();

        firebase.database.ref(IP + '/visitDates')
            .set(date);
    }
</script>

<script type="application/javascript">
    function getIP(json) {
      alert("My public IP address is: ", json.ip);
    }
</script>

<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>


<script>
    var currentiframe = document.getElementById("ifr2");
    var lastFrameGame = false;

    function LoadHome() {
        SwapFrame()
        currentiframe.src = "home.html";
        currentiframe.height = "600vh";
        lastFrameGame = false;
    }

    function LoadResume() {
        SwapFrame()
        currentiframe.src = "resume.html";
        currentiframe.height = "1300vh";
        lastFrameGame = false;
    }

    function LoadFlappy() {
        SwapFrame()
        currentiframe.src = "FlappyWeb/index.html";
        currentiframe.height = "1000px";
        lastFrameGame = true;
    }

    function LoadSC() {
        SwapFrame();
        currentiframe.src = "SCWeb/index.html"
        currentiframe.height = "1000px";
        lastFrameGame = true;
    }

    function LoadFinalTrial() {
        SwapFrame();
        currentiframe.src = "FinalTrial/index.html"
        currentiframe.height = "1000px";
        lastFrameGame = true;
    }

    function LoadContact() {
        SwapFrame();
        currentiframe.src = "contact.html";
        currentiframe.height = "600vh";
        lastFrameGame = false;
    }

    function LoadWebsiteInfo() {
        SwapFrame();
        currentiframe.src = "website_info.html";
        currentiframe.height = "600vh";
        lastFrameGame = false;
    }

    function SwapFrame() {
        if (lastFrameGame) {
            currentiframe.src = "none.html";
        }
        currentiframe.height = "0px";
        if (currentiframe == document.getElementById("ifr1")) {
            currentiframe = document.getElementById("ifr2");
        } else {
            currentiframe = document.getElementById("ifr1");
        }
    }

    setTimeout(function() { LoadHome(); }, 100);
</script>